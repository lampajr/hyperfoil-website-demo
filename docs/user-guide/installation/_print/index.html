<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical type=text/html href=https://lampajr.github.io/hyperfoil-website-demo/docs/user-guide/installation/><link rel=alternate type=application/rss+xml href=https://lampajr.github.io/hyperfoil-website-demo/docs/user-guide/installation/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/hyperfoil-website-demo/favicons/favicon.ico><link rel=apple-touch-icon href=/hyperfoil-website-demo/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/android-192x192.png sizes=192x192><title>Installation | Hyperfoil</title><meta name=description content="Detailed instructions for installing Hyperfoil manually, on Kubernetes/Openshift, or with Ansible."><meta property="og:title" content="Installation"><meta property="og:description" content="Detailed instructions for installing Hyperfoil manually, on Kubernetes/Openshift, or with Ansible."><meta property="og:type" content="website"><meta property="og:url" content="https://lampajr.github.io/hyperfoil-website-demo/docs/user-guide/installation/"><meta itemprop=name content="Installation"><meta itemprop=description content="Detailed instructions for installing Hyperfoil manually, on Kubernetes/Openshift, or with Ansible."><meta name=twitter:card content="summary"><meta name=twitter:title content="Installation"><meta name=twitter:description content="Detailed instructions for installing Hyperfoil manually, on Kubernetes/Openshift, or with Ansible."><link rel=preload href=/hyperfoil-website-demo/scss/main.min.d0336840d8c0ef45658fa040135fe63f4426d79b707feb7cf795756dd7001fc7.css as=style><link href=/hyperfoil-website-demo/scss/main.min.d0336840d8c0ef45658fa040135fe63f4426d79b707feb7cf795756dd7001fc7.css rel=stylesheet><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script>
<script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script></head><body class=td-section><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/hyperfoil-website-demo/><span class="navbar-brand__logo navbar-logo"><svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="200pt" height="200pt" viewBox="0 0 200 200"><g transform="translate(0.000000,200.000000) scale(0.100000,-0.100000)" fill="#000" stroke="none"><path d="M692 1873c-28-5-45-42-109-231-82-246-95-317-1e2-572-4-171-1-254 11-345 25-186 20-177 107-198 103-26 359-28 480-4 167 33 349 105 349 138 0 63-115 359-332 854-80 182-148 338-151 348-6 15-20 17-119 16-62-1-123-4-136-6zm228-1e2c0-106 20-593 26-640 5-43 6-43 46-43h40l-6 48c-8 69-29 512-24 517 4 4 289-634 338-760 33-83 80-222 80-235 0-19-298-120-354-120-13 0-16 13-16 68 0 37-3 97-7 135l-6 67h-38c-26 0-37-4-34-12 2-7 6-70 10-140l6-127-47-7c-49-7-250 10-320 27l-41 11-12 68c-38 230-38 515-1 705 21 107 97 352 138 447 23 52 27 53 155 56l67 2v-67z"/><path d="M1460 580c-31-4-103-24-160-44-219-78-416-102-609-72-57 9-106 14-108 13-10-11 294-67 363-67 31 0 32-1 38-57 4-32 10-66 12-76 5-14-17-28-113-74l-118-57 48-15 49-15 196 99c169 84 193 99 172 106-40 12-79 10-108-5-15-7-37-17-50-21-22-6-23-5-20 52l3 58 120 2c66 2 147 5 181 8l61 6 52 81c28 44 51 81 49 82s-28-1-58-4z"/></g></svg></span><span class=navbar-brand__name>Hyperfoil</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class="nav-link active" href=/hyperfoil-website-demo/docs/><span>Docs</span></a></li><li class=nav-item><a class=nav-link href=/hyperfoil-website-demo/blog/><span>Blog</span></a></li><li class=nav-item><a class=nav-link href=/hyperfoil-website-demo/download/><span>Download</span></a></li><li class=nav-item><a class=nav-link href=/hyperfoil-website-demo/community/><span>Community</span></a></li></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/hyperfoil-website-demo/offline-search-index.4fedb1b10adbca20f172412690f08cb1.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/hyperfoil-website-demo/docs/user-guide/installation/>Return to the regular view of this page</a>.</p></div><h1 class=title>Installation</h1><div class=lead>Detailed instructions for installing Hyperfoil manually, on Kubernetes/Openshift, or with Ansible.</div><ul><li>1: <a href=#pg-ff809110397f9741adad09d719b356f2>Manual startup</a></li><li>2: <a href=#pg-f9f986e3fb547c118cd69904afdfdd3f>K8s/Openshift deployment</a></li><li>3: <a href=#pg-bf4589d8e0fac53dabd39bc5f2e0a20e>Manual k8s/Openshift deployment</a></li><li>4: <a href=#pg-a732327a38e5b0b5deb4162f4a7f7229>Ansible startup</a></li></ul><div class=content><p>In this section, you’ll find detailed instructions for installing and setting up Hyperfoil using various methods, including manual setup, Ansible, and Kubernetes/Openshift. Follow these guides to choose the best installation procedure for your environment.</p></div></div><div class=td-content><h1 id=pg-ff809110397f9741adad09d719b356f2>1 - Manual startup</h1><div class=lead>Explore manual startup options for the Hyperfoil controller.</div><p>Hyperfoil controller is started with</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>bin/controller.sh
</span></span></code></pre></div><p>Any arguments passed to the scripts will be passed as-is to the <code>java</code> process.</p><p>By default <code>io.hyperfoil.deployer</code> is set to <code>ssh</code> which means that the controller will deploy agents over SSH, based on the <a href=/docs/user-guide/benchmark/agent/#ssh-deployer>agents configurion</a>. This requires that the user account running the controller must have public-key SSH authorization set up using key <code>$HOME/.ssh/id_rsa</code>. The user also has to be able to copy files to the directory set in agent definition (by default <code>/tmp/hyperfoil</code>) using SCP - Hyperfoil automatically synchronizes library files in this folder with the currently running instance and then executes the agent.</p><p>When you don&rsquo;t intend to run distributed benchmarks you can start the controller in <em>standalone</em> mode:</p><pre tabindex=0><code>bin/standalone.sh
</code></pre><p>This variant won&rsquo;t deploy any agents remotely and therefore it does not need any <code>agents:</code> section in the <a href=/docs/user-guide/benchmark>benchmark definition</a>; instead it will use single agent started in the same JVM.</p><p>Below is the comprehensive list of all the properties Hyperfoil recognizes. All system properties can be replaced by environment variables, uppercasing the letters and replacing dots and dashes with underscores: e.g. <code>io.hyperfoil.controller.host</code> becomes <code>IO_HYPERFOIL_CONTROLLER_HOST</code>.</p><table><thead><tr><th>Property</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>io.hyperfoil.controller.host</td><td>0.0.0.0</td><td>Host for Controller REST server</td></tr><tr><td>io.hyperfoil.controller.port</td><td>8090</td><td>Port for Controller REST server</td></tr><tr><td>io.hyperfoil.rootdir</td><td>/tmp/hyperfoil</td><td>Root directory for stored files</td></tr><tr><td>io.hyperfoil.benchmarkdir</td><td><em>root</em>/benchmark</td><td>Benchmark files (YAML and serialized)</td></tr><tr><td>io.hyperfoil.rundir</td><td><em>root</em>/run</td><td>Run result files (configs, stats&mldr;)</td></tr><tr><td>io.hyperfoil.deployer</td><td>ssh</td><td>Implementation for agents deployment</td></tr><tr><td>io.hyperfoil.deployer.timeout</td><td>15000 ms</td><td>Timeout for agents to start</td></tr><tr><td>io.hyperfoil.agent.debug.port</td><td></td><td>If set, agent will be started with JVM debug port open</td></tr><tr><td>io.hyperfoil.agent.debug.suspend</td><td>n</td><td>Suspend parameter for the debug port</td></tr><tr><td>io.hyperfoil.controller.cluster.ip</td><td>first non-loopback</td><td>Hostname/IP used for clustering with agents</td></tr><tr><td>io.hyperfoil.controller.cluster.port</td><td>7800</td><td>Default JGroups clustering port</td></tr><tr><td>io.hyperfoil.controller.external.uri</td><td></td><td>Externally advertised URI of REST server</td></tr><tr><td>io.hyperfoil.controller.keystore.path</td><td></td><td>File path to Java Keystore</td></tr><tr><td>io.hyperfoil.controller.keystore.password</td><td></td><td>Java Keystore password</td></tr><tr><td>io.hyperfoil.controller.pem.keys</td><td></td><td>File path(s) to private TLS key(s) in PEM format</td></tr><tr><td>io.hyperfoil.controller.pem.certs</td><td></td><td>File path(s) to server TLS certificate(s) in PEM format</td></tr><tr><td>io.hyperfoil.controller.password</td><td></td><td>Password used for Basic authentication</td></tr><tr><td>io.hyperfoil.controller.secured.via.proxy</td><td></td><td>This must be set to <code>true</code> for Basic auth without TLS encryption</td></tr><tr><td>io.hyperfoil.trigger.url</td><td></td><td>See below</td></tr></tbody></table><p>If <code>io.hyperfoi.trigger.url</code> is set the controller does not start benchmark run right away after hitting <code>/benchmark/my-benchmark/start</code> ; instead it responds with status 301 and header Location set to concatenation of this string and <code>BENCHMARK=my-benchmark&amp;RUN_ID=xxxx</code>. CLI interprets that response as a request to hit CI instance on this URL, assuming that CI will trigger a new job that will eventually call <code>/benchmark/my-benchmark/start?runId=xxxx</code> with header <code>x-trigger-job</code>. This is useful if the the CI has to synchronize Hyperfoil to other benchmarks that don&rsquo;t use this controller instance.</p><h2 id=security>Security<a class=td-heading-self-link href=#security aria-label="Heading self-link"></a></h2><p>Since Hyperfoil accepts and invoked any serialized Java objects you must not run it exposed to public to prevent a very simple remote code execution. Even if using HTTPS and password protection (see below) we recommend to limit access and privileges of the process to absolute minimum.</p><p>You can get confidential access to the server using TLS encryption, providing the certificate and keys either using Java Keystore mechanism (properties above starting with <code>io.hyperfoil.controller.keystore</code>) or via PEM files (properties starting with <code>io.hyperfoil.controller.pem</code>). These options are mutually exclusive. In the latter case it is possible to use multiple certificate/key files, separated by comma (,).</p><p>Authentication uses Basic authentication scheme accepting any string as username. The password is set using <code>io.hyperfoil.controller.password</code> or respective environment variable. If you&rsquo;re exposing the server using plaintext HTTP you must set <code>-Dio.hyperfoil.controller.secured.via.proxy=true</code> to confirm that this is a desired configuration (e.g. if the TLS is terminated at proxy and the connection from proxy does not require confidentiality).</p></div><div class=td-content style=page-break-before:always><h1 id=pg-f9f986e3fb547c118cd69904afdfdd3f>2 - K8s/Openshift deployment</h1><div class=lead>Deploy Hyperfoil in Kubernetes or Openshift environment using the out-of-the-box Hyperfoil operator</div><p>A convenient alternative to running Hyperfoil on hosts with SSH access is deploying it in Kubernetes or Openshift environment. The recommended way to install it using an operator in your Openshift console - just go to Operators - OperatorHub and search for &lsquo;hyperfoil&rsquo;, and follow the installation wizard. Alternatively you can <a href=/docs/user-guide/installation/k8s_manual/>deploy the controller manually</a>.</p><p>In order to start a Hyperfoil Controller instance in your cluster, create a new namespace <code>hyperfoil</code>: Go to Operators - Installed Operators and open Hyperfoil. In upper left corner select &lsquo;Project: &rsquo; - Create project and fill out the details. Then click on the &lsquo;Hyperfoil&rsquo; tab and find the button &lsquo;Create Hyperfoil&rsquo;.</p><p>You should see a YAML definition like this:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hyperfoil.io/v1alpha2</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Hyperfoil</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>example-hyperfoil</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>namespace</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hyperfoil</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>agentDeployTimeout</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>60000</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>log</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>myConfigMap/log4j2-superverbose.xml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>route</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hyperfoil.apps.mycloud.example.com</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>version</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>latest</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Change the <code>name</code> to just <code>hyperfoil</code> (or whatever you prefer) and delete all the content from the <code>spec</code> section:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hyperfoil.io/v1alpha2</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Hyperfoil</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hyperfoil</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>namespace</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hyperfoil</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>This is a perfectly valid Hyperfoil resource with everything set to default values. You can customize some properties in the <code>spec</code> section further - see the <a href=#reference>reference</a>.</p><p>The operator deploys only the controller; each agent is then started when the run starts as a <code>pod</code> in the same namespace and stopped when the run completes.</p><p>When the resource becomes ready (you can check it out through Openshift CLI using <code>oc get hf</code>) the controller pod should be up and running. Now you can open Hyperfoil CLI and connect to the controller. While default Hyperfoil port is 8090, default route setting uses TLS (edge) and therefore Openshift router will expose the service on port 443. If your cluster&rsquo;s certificate is not recognized (such as when using self-signed certificates) you need to use <code>--insecure</code> (or <code>-k</code>) option.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>bin/cli.sh
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>hyperfoil<span style=color:#ce5c00;font-weight:700>]</span>$ connect hyperfoil-hyperfoil.apps.my.cluster.domain:443 --insecure
</span></span><span style=display:flex><span>WARNING: Hyperfoil TLS certificate validity is not checked. Your credentials might get compromised.
</span></span><span style=display:flex><span>Connected!
</span></span><span style=display:flex><span>WARNING: Server <span style=color:#204a87>time</span> seems to be off by <span style=color:#0000cf;font-weight:700>12124</span> ms
</span></span></code></pre></div><p>Now you can upload & run benchmarks as usual - we&rsquo;re using {% include example_link.md src=&lsquo;k8s-hello-world.hf.yaml&rsquo; %} in this example. Note that it can take several seconds to spin up containers with agents.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>hyperfoil@hyperfoil-hyperfoil<span style=color:#ce5c00;font-weight:700>]</span>$ upload examples/k8s-hello-world.hf.yaml
</span></span><span style=display:flex><span>Loaded benchmark k8s-hello-world, uploading...
</span></span><span style=display:flex><span>... <span style=color:#204a87;font-weight:700>done</span>.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>hyperfoil@hyperfoil-hyperfoil<span style=color:#ce5c00;font-weight:700>]</span>$ run k8s-hello-world
</span></span><span style=display:flex><span>Started run <span style=color:#0000cf;font-weight:700>0000</span>
</span></span><span style=display:flex><span>Run 0000, benchmark k8s-hello-world
</span></span><span style=display:flex><span>Agents: agent-one<span style=color:#ce5c00;font-weight:700>[</span>STARTING<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>Started: 2019/11/18 19:07:36.752    Terminated: 2019/11/18 19:07:41.778
</span></span><span style=display:flex><span>NAME  STATUS      STARTED       REMAINING  COMPLETED     TOTAL DURATION               DESCRIPTION
</span></span><span style=display:flex><span>main  TERMINATED  19:07:36.753             19:07:41.778  <span style=color:#0000cf;font-weight:700>5025</span> ms <span style=color:#ce5c00;font-weight:700>(</span>exceeded by <span style=color:#0000cf;font-weight:700>25</span> ms<span style=color:#ce5c00;font-weight:700>)</span>  5.00 users per second
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>hyperfoil@hyperfoil-hyperfoil<span style=color:#ce5c00;font-weight:700>]</span>$
</span></span></code></pre></div><p>You can find more details about adjusting the agents in the <a href=/docs/user-guide/benchmark/agent/#kubernetesopenshift-deployer>benchmark format reference</a>.</p><p>Running Hyperfoil inside the cluster you are trying to test might skew results due to different network topology compared to driving the load from &lsquo;outside&rsquo; (as real users would do). It is your responsibility to validate if your setup and separation between load driver and SUT (system under test) is correct. You have been warned.</p><h2 id=reference>Reference<a class=td-heading-self-link href=#reference aria-label="Heading self-link"></a></h2><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td>version</td><td>Tag for controller image (e.g. <code>0.14</code> for a released version or <code>0.15-SNAPSHOT</code> for last build from main (master) branch). Defaults to <code>latest</code>.</td></tr><tr><td>image</td><td>Controller image. If &lsquo;version&rsquo; is defined, too, the tag is replaced (or appended). Defaults to &lsquo;quay.io/hyperfoil/hyperfoil&rsquo;</td></tr><tr><td><a href=#route>route</a></td><td>Configuration for the route leading to Controller REST endpoint.</td></tr><tr><td><a href=#auth>auth</a></td><td>Authorization configuration.</td></tr><tr><td>log</td><td>Name of the config map and optionally its entry (separated by &lsquo;/&rsquo;: e.g myconfigmap/log4j2-superverbose.xml) storing Log4j2 configuration file. By default the Controller uses its embedded configuration.</td></tr><tr><td>agentDeployTimeout</td><td>Deploy timeout for agents, in milliseconds.</td></tr><tr><td>triggerUrl</td><td>Value for <code>io.hyperfoil.trigger.url</code> - <a href=#starting-the-controller-manually>see above</a></td></tr><tr><td>preHooks</td><td>List of config map names holding hooks that run before the run starts.</td></tr><tr><td>postHooks</td><td>List of config map names holding hooks that run when the run finishes.</td></tr><tr><td>persistentVolumeClaim</td><td>Name of the PVC Hyperfoil should mount for its workdir.</td></tr></tbody></table><h3 id=route>route<a class=td-heading-self-link href=#route aria-label="Heading self-link"></a></h3><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td>host</td><td>Host for the route leading to Controller REST endpoint. Example: hyperfoil.apps.cloud.example.com</td></tr><tr><td>type</td><td>Either &lsquo;http&rsquo; (for plain-text routes - not recommended), &rsquo;edge&rsquo;, &lsquo;reencrypt&rsquo; or &lsquo;passthrough&rsquo;</td></tr><tr><td>tls</td><td>Name of the secret hosting <code>tls.crt</code>, <code>tls.key</code> and optionally <code>ca.crt</code>. This is mandatory for <code>passthrough</code> routes and optional for edge and reencrypt routes</td></tr></tbody></table><h3 id=auth>auth<a class=td-heading-self-link href=#auth aria-label="Heading self-link"></a></h3><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td>secret</td><td>Name of secret used for basic authentication. Must contain key <code>password</code>; Hyperfoil accepts any username for login.</td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-bf4589d8e0fac53dabd39bc5f2e0a20e>3 - Manual k8s/Openshift deployment</h1><div class=lead>Manually deploy Hyperfoil in Kubernetes or Openshift environment</div><p>If you cannot <a href=/docs/user-guide/installation/k8s/>use the operator</a> or if you&rsquo;re running vanilla Kubernetes you can define all the resource manually. You deploy only the controller; each agent is then started, when the run starts, as a <code>pod</code> in the same namespace and stopped when the run completes.</p><p>Following steps install Hyperfoil controller in Openshift, assuming that you have all the required priviledges. With vanilla Kubernetes you might have to replace the <code>route</code> with an appropriate <code>ingress</code>.</p><h4 id=1-create-new-namespace-for-hyperfoil>1. Create new namespace for hyperfoil<a class=td-heading-self-link href=#1-create-new-namespace-for-hyperfoil aria-label="Heading self-link"></a></h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>oc new-project hyperfoil
</span></span></code></pre></div><h4 id=2-create-required-resources>2. Create required resources<a class=td-heading-self-link href=#2-create-required-resources aria-label="Heading self-link"></a></h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>curl -s -L k8s.hyperfoil.io <span style=color:#000;font-weight:700>|</span> oc apply -f -
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>role.rbac.authorization.k8s.io/controller created
</span></span><span style=display:flex><span>serviceaccount/controller created
</span></span><span style=display:flex><span>service/hyperfoil created
</span></span><span style=display:flex><span>rolebinding.rbac.authorization.k8s.io/controller created
</span></span><span style=display:flex><span>deploymentconfig.apps.openshift.io/controller created
</span></span><span style=display:flex><span>route.route.openshift.io/hyperfoil created
</span></span></code></pre></div><p>The route will use hostname following the format <code>hyperfoil-hyperfoil.apps.my.cluster.domain</code> - feel free to customize the hostname as needed.</p><h4 id=3-wait-until-the-image-gets-downloaded-and-the-container-starts>3. Wait until the image gets downloaded and the container starts<a class=td-heading-self-link href=#3-wait-until-the-image-gets-downloaded-and-the-container-starts aria-label="Heading self-link"></a></h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>oc get po
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>NAME                  READY   STATUS              RESTARTS   AGE
</span></span><span style=display:flex><span>controller-1-pqbvs    1/1     Running             <span style=color:#0000cf;font-weight:700>0</span>          57s
</span></span><span style=display:flex><span>controller-1-deploy   0/1     Completed           <span style=color:#0000cf;font-weight:700>0</span>          72s
</span></span></code></pre></div><h4 id=4-open-cli-and-connect-to-the-controller>4. Open CLI and connect to the controller<a class=td-heading-self-link href=#4-open-cli-and-connect-to-the-controller aria-label="Heading self-link"></a></h4><p>While default Hyperfoil port is 8090, Openshift router will expose the service on port 80.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>bin/cli.sh
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>hyperfoil<span style=color:#ce5c00;font-weight:700>]</span>$ connect hyperfoil-hyperfoil.apps.my.cluster.domain -p <span style=color:#0000cf;font-weight:700>80</span>
</span></span><span style=display:flex><span>Connected!
</span></span><span style=display:flex><span>WARNING: Server <span style=color:#204a87>time</span> seems to be off by <span style=color:#0000cf;font-weight:700>12124</span> ms
</span></span></code></pre></div><h4 id=5-upload-and-run-benchmarks-as-usual>5. Upload and run benchmarks as usual<a class=td-heading-self-link href=#5-upload-and-run-benchmarks-as-usual aria-label="Heading self-link"></a></h4><p>We&rsquo;re using <code>k8s-hello-world.hf.yaml</code> in this example.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>k8s-hello-world</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>agents</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>agent-one</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>http</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>https://kubernetes.default.svc.cluster.local</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>duration</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>5s</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>usersPerSec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>5</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>scenario</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span>- <span style=color:#204a87;font-weight:700>test</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>httpRequest</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>GET</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Note that it can take several seconds to spin up containers with agents.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>hyperfoil@hyperfoil-hyperfoil<span style=color:#ce5c00;font-weight:700>]</span>$ upload .../k8s-hello-world.hf.yaml
</span></span><span style=display:flex><span>Loaded benchmark k8s-hello-world, uploading...
</span></span><span style=display:flex><span>... <span style=color:#204a87;font-weight:700>done</span>.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>hyperfoil@hyperfoil-hyperfoil<span style=color:#ce5c00;font-weight:700>]</span>$ run k8s-hello-world
</span></span><span style=display:flex><span>Started run <span style=color:#0000cf;font-weight:700>0000</span>
</span></span><span style=display:flex><span>Run 0000, benchmark k8s-hello-world
</span></span><span style=display:flex><span>Agents: agent-one<span style=color:#ce5c00;font-weight:700>[</span>STARTING<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>Started: 2019/11/18 19:07:36.752    Terminated: 2019/11/18 19:07:41.778
</span></span><span style=display:flex><span>NAME  STATUS      STARTED       REMAINING  COMPLETED     TOTAL DURATION               DESCRIPTION
</span></span><span style=display:flex><span>main  TERMINATED  19:07:36.753             19:07:41.778  <span style=color:#0000cf;font-weight:700>5025</span> ms <span style=color:#ce5c00;font-weight:700>(</span>exceeded by <span style=color:#0000cf;font-weight:700>25</span> ms<span style=color:#ce5c00;font-weight:700>)</span>  5.00 users per second
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>hyperfoil@hyperfoil-hyperfoil<span style=color:#ce5c00;font-weight:700>]</span>$
</span></span></code></pre></div><p>You can find more details about adjusting the agents in the <a href=/docs/user-guide/benchmark/agent/#kubernetesopenshift-deployer>benchmark format reference</a>.</p><p>Running Hyperfoil inside the cluster you are trying to test might skew results due to different network topology compared to driving the load from &lsquo;outside&rsquo; (as real users would do). It is your responsibility to validate if your setup and separation between load driver and SUT (system under test) is correct. You have been warned.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-a732327a38e5b0b5deb4162f4a7f7229>4 - Ansible startup</h1><div class=lead>Deploy Hyperfoil using Ansible Galaxy scripts</div><p>You can fetch release, distribute and start the cluster using Ansible Galaxy scripts; <a href=https://github.com/Hyperfoil/hyperfoil_setup>setup</a>, <a href=https://github.com/Hyperfoil/hyperfoil_test>test</a>, <a href=https://github.com/Hyperfoil/hyperfoil_shutdown>shutdown</a></p><p>First, get the scripts:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>ansible-galaxy install hyperfoil.hyperfoil_setup,<span style=color:#ce5c00;font-weight:700>{{</span> site.last_release.galaxy_version <span style=color:#ce5c00;font-weight:700>}}</span>
</span></span><span style=display:flex><span>ansible-galaxy install hyperfoil.hyperfoil_shutdown,<span style=color:#ce5c00;font-weight:700>{{</span> site.last_release.galaxy_version <span style=color:#ce5c00;font-weight:700>}}</span>
</span></span><span style=display:flex><span>ansible-galaxy install hyperfoil.hyperfoil_test,<span style=color:#ce5c00;font-weight:700>{{</span> site.last_release.galaxy_version <span style=color:#ce5c00;font-weight:700>}}</span>
</span></span></code></pre></div><p>Now, edit your <code>hosts</code> file, it could look like this:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>hyperfoil-controller<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>controller <span style=color:#000>ansible_host</span><span style=color:#ce5c00;font-weight:700>=</span>localhost
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>hyperfoil-agent<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>agent-1 <span style=color:#000>ansible_host</span><span style=color:#ce5c00;font-weight:700>=</span>localhost
</span></span></code></pre></div><div class="alert alert-primary" role=alert><h4 class=alert-heading>Note</h4>You can add more agents by duplicating the last line with <code>agent-2</code> etc.</div><p>Prepare your playbook; here is a short example that starts the controller, uploads and starts <a href=https://github.com/Hyperfoil/hyperfoil_test/blob/master/benchmarks/example.yaml.j2>simple benchmark</a> (the templating engine replaces the agents in benchmark script based on Ansible hosts) and waits for its completion. When it confirms number of requests executed it stops the controller.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>- <span style=color:#204a87;font-weight:700>hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hyperfoil-agent, hyperfoil-controller ]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>tasks</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[]</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># This will only gather facts about all nodes</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span>- <span style=color:#204a87;font-weight:700>hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hyperfoil-controller</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>roles</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>hyperfoil.hyperfoil_setup</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span>- <span style=color:#204a87;font-weight:700>hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>127.0.0.1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>connection</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>local</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>roles</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>hyperfoil.hyperfoil_test</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>vars</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>test_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>example</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#8f5902;font-style:italic># Note that due to the way Ansible lookups work this will work only if hyperfoil-controller == localhost</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span>- <span style=color:#204a87;font-weight:700>hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>127.0.0.1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>connection</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>local</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>tasks</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Find number of requests</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>set_fact</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>test_requests</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;{{ lookup(&#39;csvfile&#39;, &#39;example file=/tmp/hyperfoil/workspace/run/&#39; + test_runid + &#39;/stats/total.csv col=2 delimiter=,&#39;)}}&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Print number of requests</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>debug</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>msg</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;Executed {{ test_requests }} requests.&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span>- <span style=color:#204a87;font-weight:700>hosts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>hyperfoil-controller</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>roles</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>hyperfoil.hyperfoil_shutdown</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Finally, run the playbook:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>ansible-playbook -i hosts example.yml
</span></span></code></pre></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="GitHub Discussions" aria-label="GitHub Discussions"><a target=_blank rel=noopener href=https://github.com/Hyperfoil/Hyperofil/discussions aria-label="GitHub Discussions"><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://x.com/Hyperfoil aria-label=Twitter><i class="fab fa-twitter"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/Hyperfoil/Hyperofil aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Zulip aria-label=Zulip><a target=_blank rel=noopener href=https://hyperfoil.zulipchat.com/ aria-label=Zulip><i class="fab fa-z"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="GitHub Issues" aria-label="GitHub Issues"><a target=_blank rel=noopener href=https://github.com/Hyperfoil/Hyperofil/issues aria-label="GitHub Issues"><i class="fab fa-github"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2017&ndash;2024
<span class=td-footer__authors>Hyperfoil | <a href=https://www.apache.org/licenses/LICENSE-2.0>Apache License 2.0</a> |</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span><span class=ms-2><a href=https://policies.google.com/privacy target=_blank rel=noopener>Privacy Policy</a></span></div></div></div></footer></div><script src=/hyperfoil-website-demo/js/main.min.53f3e04e8d693751b0d08317a1dfec9508d2a99f2a3d232d929e075cd6f20865.js integrity="sha256-U/PgTo1pN1Gw0IMXod/slQjSqZ8qPSMtkp4HXNbyCGU=" crossorigin=anonymous></script>
<script defer src=/hyperfoil-website-demo/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script>
<script src=/hyperfoil-website-demo/js/tabpane-persist.js></script></body></html>