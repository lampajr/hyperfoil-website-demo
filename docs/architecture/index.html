<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/hyperfoil-website-demo/favicons/favicon.ico><link rel=apple-touch-icon href=/hyperfoil-website-demo/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/android-192x192.png sizes=192x192><title>Architecture | Hyperfoil</title><meta name=description content="Deep dive into the Hyperfoil architecture"><meta property="og:title" content="Architecture"><meta property="og:description" content="Deep dive into the Hyperfoil architecture"><meta property="og:type" content="article"><meta property="og:url" content="https://lampajr.github.io/hyperfoil-website-demo/docs/architecture/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2024-07-01T09:21:43+02:00"><meta itemprop=name content="Architecture"><meta itemprop=description content="Deep dive into the Hyperfoil architecture"><meta itemprop=dateModified content="2024-07-01T09:21:43+02:00"><meta itemprop=wordCount content="1965"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Architecture"><meta name=twitter:description content="Deep dive into the Hyperfoil architecture"><link rel=preload href=/hyperfoil-website-demo/scss/main.min.d0336840d8c0ef45658fa040135fe63f4426d79b707feb7cf795756dd7001fc7.css as=style><link href=/hyperfoil-website-demo/scss/main.min.d0336840d8c0ef45658fa040135fe63f4426d79b707feb7cf795756dd7001fc7.css rel=stylesheet><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script>
<script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script></head><body class=td-page><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/hyperfoil-website-demo/><span class="navbar-brand__logo navbar-logo"><svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="200pt" height="200pt" viewBox="0 0 200 200"><g transform="translate(0.000000,200.000000) scale(0.100000,-0.100000)" fill="#000" stroke="none"><path d="M692 1873c-28-5-45-42-109-231-82-246-95-317-1e2-572-4-171-1-254 11-345 25-186 20-177 107-198 103-26 359-28 480-4 167 33 349 105 349 138 0 63-115 359-332 854-80 182-148 338-151 348-6 15-20 17-119 16-62-1-123-4-136-6zm228-1e2c0-106 20-593 26-640 5-43 6-43 46-43h40l-6 48c-8 69-29 512-24 517 4 4 289-634 338-760 33-83 80-222 80-235 0-19-298-120-354-120-13 0-16 13-16 68 0 37-3 97-7 135l-6 67h-38c-26 0-37-4-34-12 2-7 6-70 10-140l6-127-47-7c-49-7-250 10-320 27l-41 11-12 68c-38 230-38 515-1 705 21 107 97 352 138 447 23 52 27 53 155 56l67 2v-67z"/><path d="M1460 580c-31-4-103-24-160-44-219-78-416-102-609-72-57 9-106 14-108 13-10-11 294-67 363-67 31 0 32-1 38-57 4-32 10-66 12-76 5-14-17-28-113-74l-118-57 48-15 49-15 196 99c169 84 193 99 172 106-40 12-79 10-108-5-15-7-37-17-50-21-22-6-23-5-20 52l3 58 120 2c66 2 147 5 181 8l61 6 52 81c28 44 51 81 49 82s-28-1-58-4z"/></g></svg></span><span class=navbar-brand__name>Hyperfoil</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class="nav-link active" href=/hyperfoil-website-demo/docs/><span>Docs</span></a></li><li class=nav-item><a class=nav-link href=/hyperfoil-website-demo/blog/><span>Blog</span></a></li><li class=nav-item><a class=nav-link href=/hyperfoil-website-demo/download/><span>Download</span></a></li><li class=nav-item><a class=nav-link href=/hyperfoil-website-demo/community/><span>Community</span></a></li></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/hyperfoil-website-demo/offline-search-index.4fedb1b10adbca20f172412690f08cb1.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/hyperfoil-website-demo/offline-search-index.4fedb1b10adbca20f172412690f08cb1.json data-offline-search-base-href=/ data-offline-search-max-results=10></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-hyperfoil-website-demodocs-li><a href=/hyperfoil-website-demo/docs/ title=Documentation class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-hyperfoil-website-demodocs><span>Docs</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-hyperfoil-website-demodocsoverview-li><a href=/hyperfoil-website-demo/docs/overview/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-hyperfoil-website-demodocsoverview><span>Overview</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsoverviewconcepts-li><a href=/hyperfoil-website-demo/docs/overview/concepts/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsoverviewconcepts><span>Concepts</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsoverviewfaq-li><a href=/hyperfoil-website-demo/docs/overview/faq/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsoverviewfaq><span>FAQ</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-hyperfoil-website-demodocsgetting-started-li><a href=/hyperfoil-website-demo/docs/getting-started/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-hyperfoil-website-demodocsgetting-started><span>Getting Started</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsgetting-startedquickstart1-li><a href=/hyperfoil-website-demo/docs/getting-started/quickstart1/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsgetting-startedquickstart1><span>First benchmark</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsgetting-startedquickstart2-li><a href=/hyperfoil-website-demo/docs/getting-started/quickstart2/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsgetting-startedquickstart2><span>Steps and statistics</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsgetting-startedquickstart3-li><a href=/hyperfoil-website-demo/docs/getting-started/quickstart3/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsgetting-startedquickstart3><span>Complex workflow</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsgetting-startedquickstart4-li><a href=/hyperfoil-website-demo/docs/getting-started/quickstart4/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsgetting-startedquickstart4><span>Phases - basics</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsgetting-startedquickstart5-li><a href=/hyperfoil-website-demo/docs/getting-started/quickstart5/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsgetting-startedquickstart5><span>Phases - advanced</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsgetting-startedquickstart6-li><a href=/hyperfoil-website-demo/docs/getting-started/quickstart6/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsgetting-startedquickstart6><span>Running the server</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsgetting-startedquickstart7-li><a href=/hyperfoil-website-demo/docs/getting-started/quickstart7/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsgetting-startedquickstart7><span>Clustered mode</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsgetting-startedquickstart8-li><a href=/hyperfoil-website-demo/docs/getting-started/quickstart8/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsgetting-startedquickstart8><span>Custom components</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-hyperfoil-website-demodocsuser-guide-li><a href=/hyperfoil-website-demo/docs/user-guide/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-hyperfoil-website-demodocsuser-guide><span>User Guide</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-hyperfoil-website-demodocsuser-guideinstallation-li><a href=/hyperfoil-website-demo/docs/user-guide/installation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-hyperfoil-website-demodocsuser-guideinstallation><span>Installation</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsuser-guideinstallationstart_manual-li><a href=/hyperfoil-website-demo/docs/user-guide/installation/start_manual/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsuser-guideinstallationstart_manual><span>Manual startup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsuser-guideinstallationk8s-li><a href=/hyperfoil-website-demo/docs/user-guide/installation/k8s/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsuser-guideinstallationk8s><span>K8s/Openshift deployment</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsuser-guideinstallationk8s_manual-li><a href=/hyperfoil-website-demo/docs/user-guide/installation/k8s_manual/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsuser-guideinstallationk8s_manual><span>Manual k8s/Openshift deployment</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsuser-guideinstallationansible-li><a href=/hyperfoil-website-demo/docs/user-guide/installation/ansible/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsuser-guideinstallationansible><span>Ansible startup</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-hyperfoil-website-demodocsuser-guidebenchmark-li><a href=/hyperfoil-website-demo/docs/user-guide/benchmark/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-hyperfoil-website-demodocsuser-guidebenchmark><span>Benchmark</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsuser-guidebenchmarkagents-li><a href=/hyperfoil-website-demo/docs/user-guide/benchmark/agents/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsuser-guidebenchmarkagents><span>Agents</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsuser-guidebenchmarkhttp-li><a href=/hyperfoil-website-demo/docs/user-guide/benchmark/http/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsuser-guidebenchmarkhttp><span>HTTP</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsuser-guidebenchmarkphases-li><a href=/hyperfoil-website-demo/docs/user-guide/benchmark/phases/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsuser-guidebenchmarkphases><span>Phases</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsuser-guidebenchmarkscenario-li><a href=/hyperfoil-website-demo/docs/user-guide/benchmark/scenario/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsuser-guidebenchmarkscenario><span>Scenario</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsuser-guidebenchmarkvariables-li><a href=/hyperfoil-website-demo/docs/user-guide/benchmark/variables/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsuser-guidebenchmarkvariables><span>Variables</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsuser-guidebenchmarktemplates-li><a href=/hyperfoil-website-demo/docs/user-guide/benchmark/templates/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsuser-guidebenchmarktemplates><span>Templates</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsuser-guidebenchmarkhooks-li><a href=/hyperfoil-website-demo/docs/user-guide/benchmark/hooks/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsuser-guidebenchmarkhooks><span>Hooks</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsuser-guidebenchmarkergonomics-li><a href=/hyperfoil-website-demo/docs/user-guide/benchmark/ergonomics/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsuser-guidebenchmarkergonomics><span>Ergonomics</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsuser-guideexamples-li><a href=/hyperfoil-website-demo/docs/user-guide/examples/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsuser-guideexamples><span>Examples</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsuser-guidetroubleshooting-li><a href=/hyperfoil-website-demo/docs/user-guide/troubleshooting/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsuser-guidetroubleshooting><span>Troubleshooting</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-hyperfoil-website-demodocshowtos-li><a href=/hyperfoil-website-demo/docs/howtos/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-hyperfoil-website-demodocshowtos><span>How To</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocshowtoseditor-li><a href=/hyperfoil-website-demo/docs/howtos/editor/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocshowtoseditor><span>Benchmark schema support</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocshowtoscredentials-li><a href=/hyperfoil-website-demo/docs/howtos/credentials/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocshowtoscredentials><span>Using credentials</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-hyperfoil-website-demodocsmigration-li><a href=/hyperfoil-website-demo/docs/migration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-hyperfoil-website-demodocsmigration><span>Migration</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsmigrationwrk-li><a href=/hyperfoil-website-demo/docs/migration/wrk/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsmigrationwrk><span>Migrating from wrk/wrk2</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-hyperfoil-website-demodocsreference-li><a href=/hyperfoil-website-demo/docs/reference/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-hyperfoil-website-demodocsreference><span>Reference</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-hyperfoil-website-demodocsreferencesteps-li><a href=/hyperfoil-website-demo/docs/reference/steps/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-hyperfoil-website-demodocsreferencesteps><span>Steps</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_additem-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_additem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_additem><span>addItem</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_addtoint-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_addtoint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_addtoint><span>addToInt</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_addtosharedcounter-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_addtosharedcounter/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_addtosharedcounter><span>addToSharedCounter</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_awaitallresponses-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_awaitallresponses/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_awaitallresponses><span>awaitAllResponses</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_awaitdelay-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_awaitdelay/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_awaitdelay><span>awaitDelay</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_awaitint-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_awaitint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_awaitint><span>awaitInt</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_awaitvar-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_awaitvar/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_awaitvar><span>awaitVar</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_breakiffinished-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_breakiffinished/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_breakiffinished><span>breakIfFinished</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_breaksequence-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_breaksequence/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_breaksequence><span>breakSequence</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_clearhttpcache-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_clearhttpcache/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_clearhttpcache><span>clearHttpCache</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_conditional-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_conditional/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_conditional><span>conditional</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_fail-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_fail/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_fail><span>fail</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_foreach-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_foreach/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_foreach><span>foreach</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_getindex-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_getindex/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_getindex><span>getIndex</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_getitem-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_getitem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_getitem><span>getItem</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_getsharedcounter-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_getsharedcounter/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_getsharedcounter><span>getSharedCounter</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_getsize-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_getsize/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_getsize><span>getSize</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_hotrodrequest-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_hotrodrequest/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_hotrodrequest><span>hotrodRequest</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_httprequest-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_httprequest/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_httprequest><span>httpRequest</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_json-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_json/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_json><span>json</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_log-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_log/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_log><span>log</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_loop-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_loop/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_loop><span>loop</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_markrequestinvalid-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_markrequestinvalid/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_markrequestinvalid><span>markRequestInvalid</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_newsequence-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_newsequence/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_newsequence><span>newSequence</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_noop-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_noop/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_noop><span>noop</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_publishagentdata-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_publishagentdata/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_publishagentdata><span>publishAgentData</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_publishglobalcounters-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_publishglobalcounters/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_publishglobalcounters><span>publishGlobalCounters</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_pullsharedmap-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_pullsharedmap/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_pullsharedmap><span>pullSharedMap</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_pushsharedmap-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_pushsharedmap/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_pushsharedmap><span>pushSharedMap</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_randomcsvrow-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_randomcsvrow/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_randomcsvrow><span>randomCsvRow</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_randomfile-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_randomfile/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_randomfile><span>randomFile</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_randomint-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_randomint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_randomint><span>randomInt</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_randomitem-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_randomitem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_randomitem><span>randomItem</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_randomuuid-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_randomuuid/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_randomuuid><span>randomUUID</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_readagentdata-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_readagentdata/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_readagentdata><span>readAgentData</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_removeitem-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_removeitem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_removeitem><span>removeItem</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_restartsequence-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_restartsequence/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_restartsequence><span>restartSequence</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_scheduledelay-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_scheduledelay/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_scheduledelay><span>scheduleDelay</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_set-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_set/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_set><span>set</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_setint-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_setint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_setint><span>setInt</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_setitem-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_setitem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_setitem><span>setItem</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_setsharedcounter-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_setsharedcounter/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_setsharedcounter><span>setSharedCounter</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_stop-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_stop/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_stop><span>stop</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_stopwatch-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_stopwatch/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_stopwatch><span>stopwatch</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_stringtoint-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_stringtoint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_stringtoint><span>stringToInt</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_template-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_template/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_template><span>template</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_thinktime-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_thinktime/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_thinktime><span>thinkTime</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_timestamp-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_timestamp/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_timestamp><span>timestamp</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferencestepsstep_unset-li><a href=/hyperfoil-website-demo/docs/reference/steps/step_unset/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferencestepsstep_unset><span>unset</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessors-li><a href=/hyperfoil-website-demo/docs/reference/processors/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-hyperfoil-website-demodocsreferenceprocessors><span>Processors</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_additem-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_additem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_additem><span>addItem</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_addtoint-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_addtoint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_addtoint><span>addToInt</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_addtosharedcounter-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_addtosharedcounter/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_addtosharedcounter><span>addToSharedCounter</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_array-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_array/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_array><span>array</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_clearhttpcache-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_clearhttpcache/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_clearhttpcache><span>clearHttpCache</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_closeconnection-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_closeconnection/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_closeconnection><span>closeConnection</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_collection-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_collection/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_collection><span>collection</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_conditional-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_conditional/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_conditional><span>conditional</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_count-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_count/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_count><span>count</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_fail-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_fail/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_fail><span>fail</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_getindex-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_getindex/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_getindex><span>getIndex</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_getitem-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_getitem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_getitem><span>getItem</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_getsharedcounter-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_getsharedcounter/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_getsharedcounter><span>getSharedCounter</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_getsize-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_getsize/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_getsize><span>getSize</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_gzipinflator-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_gzipinflator/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_gzipinflator><span>gzipInflator</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_json-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_json/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_json><span>json</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_log-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_log/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_log><span>log</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_loginvalid-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_loginvalid/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_loginvalid><span>logInvalid</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_markrequestinvalid-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_markrequestinvalid/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_markrequestinvalid><span>markRequestInvalid</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_newsequence-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_newsequence/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_newsequence><span>newSequence</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_parsehtml-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_parsehtml/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_parsehtml><span>parseHtml</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_publishagentdata-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_publishagentdata/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_publishagentdata><span>publishAgentData</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_publishglobalcounters-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_publishglobalcounters/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_publishglobalcounters><span>publishGlobalCounters</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_queue-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_queue/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_queue><span>queue</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_readagentdata-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_readagentdata/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_readagentdata><span>readAgentData</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_removeitem-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_removeitem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_removeitem><span>removeItem</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_restartsequence-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_restartsequence/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_restartsequence><span>restartSequence</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_set-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_set/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_set><span>set</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_setint-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_setint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_setint><span>setInt</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_setitem-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_setitem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_setitem><span>setItem</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_setsharedcounter-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_setsharedcounter/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_setsharedcounter><span>setSharedCounter</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_store-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_store/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_store><span>store</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_storeint-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_storeint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_storeint><span>storeInt</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_stringtoint-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_stringtoint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_stringtoint><span>stringToInt</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_unset-li><a href=/hyperfoil-website-demo/docs/reference/processors/processor_unset/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceprocessorsprocessor_unset><span>unset</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-hyperfoil-website-demodocsreferenceactions-li><a href=/hyperfoil-website-demo/docs/reference/actions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-hyperfoil-website-demodocsreferenceactions><span>Actions</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_additem-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_additem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_additem><span>addItem</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_addtoint-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_addtoint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_addtoint><span>addToInt</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_addtosharedcounter-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_addtosharedcounter/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_addtosharedcounter><span>addToSharedCounter</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_clearhttpcache-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_clearhttpcache/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_clearhttpcache><span>clearHttpCache</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_conditional-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_conditional/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_conditional><span>conditional</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_fail-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_fail/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_fail><span>fail</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_getindex-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_getindex/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_getindex><span>getIndex</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_getitem-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_getitem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_getitem><span>getItem</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_getsharedcounter-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_getsharedcounter/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_getsharedcounter><span>getSharedCounter</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_getsize-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_getsize/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_getsize><span>getSize</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_log-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_log/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_log><span>log</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_markrequestinvalid-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_markrequestinvalid/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_markrequestinvalid><span>markRequestInvalid</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_newsequence-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_newsequence/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_newsequence><span>newSequence</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_publishagentdata-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_publishagentdata/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_publishagentdata><span>publishAgentData</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_publishglobalcounters-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_publishglobalcounters/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_publishglobalcounters><span>publishGlobalCounters</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_readagentdata-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_readagentdata/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_readagentdata><span>readAgentData</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_removeitem-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_removeitem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_removeitem><span>removeItem</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_restartsequence-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_restartsequence/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_restartsequence><span>restartSequence</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_set-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_set/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_set><span>set</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_setint-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_setint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_setint><span>setInt</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_setitem-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_setitem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_setitem><span>setItem</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_setsharedcounter-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_setsharedcounter/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_setsharedcounter><span>setSharedCounter</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_stringtoint-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_stringtoint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_stringtoint><span>stringToInt</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsreferenceactionsaction_unset-li><a href=/hyperfoil-website-demo/docs/reference/actions/action_unset/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsreferenceactionsaction_unset><span>unset</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-hyperfoil-website-demodocsextensions-li><a href=/hyperfoil-website-demo/docs/extensions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsextensions><span>Extensions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-hyperfoil-website-demodocsrestapi-li><a href=/hyperfoil-website-demo/docs/restapi/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-hyperfoil-website-demodocsrestapi><span>Controller API</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demodocsrestapiopenapi-li><a href=/hyperfoil-website-demo/docs/restapi/openapi/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsrestapiopenapi><span>Swagger UI</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-hyperfoil-website-demodocsarchitecture-li><a href=/hyperfoil-website-demo/docs/architecture/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demodocsarchitecture><span class=td-sidebar-nav-active-item>Architecture</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://github.com/Hyperfoil/Hyperfoil/tree/0.26.x/docs/site/content/en/docs/architecture.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
<a href=https://github.com/Hyperfoil/Hyperfoil/edit/0.26.x/docs/site/content/en/docs/architecture.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
<a href="https://github.com/Hyperfoil/Hyperfoil/new/0.26.x/docs/site/content/en/docs?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
<a href="https://github.com/Hyperfoil/Hyperfoil/issues/new?title=Architecture" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/Hyperfoil/Hyperfoil/issues/new class="td-page-meta--project td-page-meta__project-issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create project issue</a>
<a id=print href=/hyperfoil-website-demo/docs/_print/><i class="fa-solid fa-print fa-fw"></i> Print entire section</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#building-the-scenario>Building the scenario</a></li><li><a href=#creating-the-sessions>Creating the sessions</a></li><li><a href=#scenario-execution>Scenario execution</a></li><li><a href=#session-variables>Session variables</a><ul><li><a href=#sequence-scoped-access>Sequence-scoped access</a></li></ul></li><li><a href=#session-resources>Session resources</a></li><li><a href=#component-adapters>Component adapters</a></li><li><a href=#thread-local-agent-local-and-global-data>Thread-local, agent-local and global data</a></li></ul></nav></div><div class="taxonomy taxonomy-terms-cloud taxo-tags"><h5 class=taxonomy-title>Tags</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/actions/ data-taxonomy-term=actions><span class=taxonomy-label>actions</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/agents/ data-taxonomy-term=agents><span class=taxonomy-label>agents</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/ansible/ data-taxonomy-term=ansible><span class=taxonomy-label>ansible</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/benchmark/ data-taxonomy-term=benchmark><span class=taxonomy-label>benchmark</span><span class=taxonomy-count>10</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/clustered/ data-taxonomy-term=clustered><span class=taxonomy-label>clustered</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/concepts/ data-taxonomy-term=concepts><span class=taxonomy-label>concepts</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/credentials/ data-taxonomy-term=credentials><span class=taxonomy-label>credentials</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/custom/ data-taxonomy-term=custom><span class=taxonomy-label>custom</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/editor/ data-taxonomy-term=editor><span class=taxonomy-label>editor</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/ergonomics/ data-taxonomy-term=ergonomics><span class=taxonomy-label>ergonomics</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/examples/ data-taxonomy-term=examples><span class=taxonomy-label>examples</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/faq/ data-taxonomy-term=faq><span class=taxonomy-label>faq</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/guides/ data-taxonomy-term=guides><span class=taxonomy-label>guides</span><span class=taxonomy-count>20</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/handlers/ data-taxonomy-term=handlers><span class=taxonomy-label>handlers</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/hooks/ data-taxonomy-term=hooks><span class=taxonomy-label>hooks</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/how-to/ data-taxonomy-term=how-to><span class=taxonomy-label>how-to</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/http/ data-taxonomy-term=http><span class=taxonomy-label>http</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/installation/ data-taxonomy-term=installation><span class=taxonomy-label>installation</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/json-schema/ data-taxonomy-term=json-schema><span class=taxonomy-label>json-schema</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/kubernetes/ data-taxonomy-term=kubernetes><span class=taxonomy-label>kubernetes</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/link/ data-taxonomy-term=link><span class=taxonomy-label>link</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/manual/ data-taxonomy-term=manual><span class=taxonomy-label>manual</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/migration/ data-taxonomy-term=migration><span class=taxonomy-label>migration</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/openshift/ data-taxonomy-term=openshift><span class=taxonomy-label>openshift</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/overview/ data-taxonomy-term=overview><span class=taxonomy-label>overview</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/phases/ data-taxonomy-term=phases><span class=taxonomy-label>phases</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/processors/ data-taxonomy-term=processors><span class=taxonomy-label>processors</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/quickstart/ data-taxonomy-term=quickstart><span class=taxonomy-label>quickstart</span><span class=taxonomy-count>9</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/reference/ data-taxonomy-term=reference><span class=taxonomy-label>reference</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/scenario/ data-taxonomy-term=scenario><span class=taxonomy-label>scenario</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/server/ data-taxonomy-term=server><span class=taxonomy-label>server</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/standalone/ data-taxonomy-term=standalone><span class=taxonomy-label>standalone</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/statistics/ data-taxonomy-term=statistics><span class=taxonomy-label>statistics</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/steps/ data-taxonomy-term=steps><span class=taxonomy-label>steps</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/templates/ data-taxonomy-term=templates><span class=taxonomy-label>templates</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/troubleshooting/ data-taxonomy-term=troubleshooting><span class=taxonomy-label>troubleshooting</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/variables/ data-taxonomy-term=variables><span class=taxonomy-label>variables</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/wrk/ data-taxonomy-term=wrk><span class=taxonomy-label>wrk</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/wrk2/ data-taxonomy-term=wrk2><span class=taxonomy-label>wrk2</span><span class=taxonomy-count>1</span></a></li></ul></div><div class="taxonomy taxonomy-terms-cloud taxo-categories"><h5 class=taxonomy-title>Categories</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/actions/ data-taxonomy-term=actions><span class=taxonomy-label>Actions</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/benchmark/ data-taxonomy-term=benchmark><span class=taxonomy-label>Benchmark</span><span class=taxonomy-count>9</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/concepts/ data-taxonomy-term=concepts><span class=taxonomy-label>Concepts</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/examples/ data-taxonomy-term=examples><span class=taxonomy-label>Examples</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/faq/ data-taxonomy-term=faq><span class=taxonomy-label>FAQ</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/getstarted/ data-taxonomy-term=getstarted><span class=taxonomy-label>GetStarted</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/guide/ data-taxonomy-term=guide><span class=taxonomy-label>Guide</span><span class=taxonomy-count>17</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/howto/ data-taxonomy-term=howto><span class=taxonomy-label>HowTo</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/installation/ data-taxonomy-term=installation><span class=taxonomy-label>Installation</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/migration/ data-taxonomy-term=migration><span class=taxonomy-label>Migration</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/overview/ data-taxonomy-term=overview><span class=taxonomy-label>Overview</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/processors/ data-taxonomy-term=processors><span class=taxonomy-label>Processors</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/quickstart/ data-taxonomy-term=quickstart><span class=taxonomy-label>Quickstart</span><span class=taxonomy-count>9</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/reference/ data-taxonomy-term=reference><span class=taxonomy-label>Reference</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/steps/ data-taxonomy-term=steps><span class=taxonomy-label>Steps</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/troubleshooting/ data-taxonomy-term=troubleshooting><span class=taxonomy-label>Troubleshooting</span><span class=taxonomy-count>1</span></a></li></ul></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/hyperfoil-website-demo/docs/>Docs</a></li><li class="breadcrumb-item active" aria-current=page>Architecture</li></ol></nav><div class=td-content><h1>Architecture</h1><div class=lead>Deep dive into the Hyperfoil architecture</div><header class=article-meta></header><p>While we have already explained <a href=/docs/overview/concepts/>basic concepts</a> in the benchmark and <a href=/docs/getting-started/quickstart1/>last quickstart</a> shows how to create a custom steps or handlers here we will show how Hyperfoil internally works and give you better idea how to create non-trivial extensions.</p><h2 id=building-the-scenario>Building the scenario<a class=td-heading-self-link href=#building-the-scenario aria-label="Heading self-link"></a></h2><p>The road from a YAML file to executing the benchmark starts with creating the <em>builder tree</em>. Either the CLI or controller presents this file to the parser (mostly classes from the <code>io.hyperfoil.core.parser</code> package) which reads it token-by-token and invoke methods on the <code>io.hyperfoil.api.config.BenchmarkBuilder</code> instance. Some parts of the parser are hard-coded, but most of them use reflection - that&rsquo;s why you don&rsquo;t need to write the parser yourselves.</p><p>Generally speaking each mapping (<code>foo: bar</code>) results in invoking method <code>foo()</code> on the builder; if this method accepts an argument (<code>bar</code>) the return value could be ignored - the method mutates the builder and that is all. Other methods do not accept any arguments and return another builder instance - the YAML subtree is then applies to this builder. The builder tree then roughly maps to the YAML tree in the original file.</p><p>When the YAML is fully read we execute the first phase of building the benchmark itself. We recursively (depth-first) call <code>prepareBuild()</code> methods on the tree; these methods are allowed to invoke further mutations on the builder tree, such as adding other <a href=/docs/overview/concepts/#scenario>steps and sequences</a>. An empty (default) implementation of this method is perfectly fine if you don&rsquo;t need anything complex, but if your extension delegates to children extensions it should recursively call the method on children builders. Make sure to iterate through a shallow copy of any collection of children as the children can mutate its parent, failing the iteration.</p><blockquote><p>Hyperfoil does not track new components created in <code>prepareBuild()</code> and therefore it won&rsquo;t call <code>prepareBuild()</code> on these if the part of builder tree was already processed - the code creating new components must call the method.</p></blockquote><p>When the first phase completes we invoke the <code>build()</code> method on the builder tree. As the build method is invoked recursively again we end up with the <em>benchmark tree</em> that again mirrors the builder tree. The mapping between builders and benchmark components doesn&rsquo;t need to be 1:1, e.g. <code>StepBuilder</code> can return several steps, builder can return wrapped components etc. However no mutations are allowed in this phase.</p><p>So we end up with the <code>io.hyperfoil.api.config.Benchmark</code> instance that holds this tree. It is important to make sure that this is <strong>immutable</strong> and <strong>serializable</strong> as it will be sent over the wire from controller to agents. This means that the components must not reference the builders. A common oversight is using a lambda that uses one of builder&rsquo;s fields - while you only need the actual value of the field the lambda would capture a reference to the builder; this is quite easy to fix by assigning the field value to a local var, though.</p><h2 id=creating-the-sessions>Creating the sessions<a class=td-heading-self-link href=#creating-the-sessions aria-label="Heading self-link"></a></h2><p>Hyperfoil tries to minimize allocations during the benchmark as while Java garbage collector is a good friend of every developer it has a negative effect on the real-time properties of the program. You should use collectors that minimize pause times (such as Shenandoah or ZGC) rather than those that maximize throughput. This is why we allocate all what we could need ahead.</p><p>Before the benchmark starts each agent creates all the sessions (based on the <code>maxSessions</code> property in case of open-model phases). When <code>Session.reserve()</code> is called it calls <code>reserve()</code> method on all steps that implement <code>ResourceUtilizer</code> interface. In this method the step must call <code>Session.declareResource()</code> on all the resources it uses.</p><p>Note: in previous versions of Hyperfoil it was necessary to also explicitly declare that the step can write into a session variable, and recursively call the <code>ResourceUtilizer.reserve()</code> method on all children components. Since version 0.16 Hyperfoil discovers all <code>ResourceUtilizer</code> implementors in the scenario tree; the recursive invocation is no longer necessary.</p><h2 id=scenario-execution>Scenario execution<a class=td-heading-self-link href=#scenario-execution aria-label="Heading self-link"></a></h2><p>Session execution starts with:</p><ul><li><p>one instance of each sequence declared in the <code>initialSequences</code> list</p></li><li><p>one instance of the first sequence in <code>orderedSequences</code> list</p></li><li><p>one instance of the first sequence in the implicit list of sequences (right under the <code>scenario:</code> declaration - this is mutually exclusive to the options above)</p></li></ul><p>The session keeps a list of active sequence instances, each with an index of the step that should execute next. There can be several instances of the same sequence, up to its concurrency (the number in brackets next to sequence name). Whenever the session is notified (using <code>Session.proceed()</code> which schedules <code>Session.call()</code> invocation in its executor) it goes through all active instances and calls <code>Step.invoke()</code> on the current step.</p><p>There are two possible results from the <code>invoke()</code> method that returns a boolean:</p><ul><li><code>true</code>: This means that step has been successfuly executed, it&rsquo;s complete and the sequence can continue with the next step (which it will, immediately) or complete if this was the last step.</li><li><code>false</code>: We say that the step was <em>blocked</em> - it cannot execute immediately. It could be either because the step is short of resources (e.g. <code>httpRequest</code> cannot get any available connection from the pool) but most often this is because the purpose of this step is to wait for certain condition: variable being set/reaching certain value, request being completed etc. The sequence will <strong>not</strong> progress towards next step and this step&rsquo;s <code>invoke()</code> method will be called again (when the <code>Session.proceed()</code> is called). An important property is that if the step returns <code>false</code> the step must not have any side-effects - it must not fire a request, set a session variable, simply it was a no-op. If the step acquired a resource from a pool it should return it prior to returning <code>false</code>.</li></ul><h2 id=session-variables>Session variables<a class=td-heading-self-link href=#session-variables aria-label="Heading self-link"></a></h2><p>The session contains a map of variables the scenario uses. The keys are usually strings but this is not mandated; some steps may e.g. choose to use an unique object as the key. The values in the map are wrapper objects that hold a boolean flag whether this variable is set and the value itself. To avoid boxing and unboxing there&rsquo;s a different wrapper for integers and other objects - it&rsquo;s up to step to check the wrapper type and convert the value if necessary.</p><p>The map is not manipulated directly - a builder for a step that should work with variable <code>foo</code> should call <code>SessionFactory.readAccess("foo")</code>, <code>SessionFactory.intAccess("foo")</code> or <code>SessionFactory.objectAccess("foo")</code> in its <code>build()</code> method and pass the received <code>Access</code> to the step it creates. The step then operates exclusively using <code>Access</code> methods. And example of this can be found in the <a href=/docs/getting-started/quickstart8/>getting started: custom steps</a> guide.</p><h3 id=sequence-scoped-access>Sequence-scoped access<a class=td-heading-self-link href=#sequence-scoped-access aria-label="Heading self-link"></a></h3><p>In quickstarts there are examples of <em>sequence-scoped access</em> - variables with <code>[.]</code> suffix, e.g. <code>unset: myVar[.]</code>. This is used when the variable holds an array of variables (wrappers) created using <code>ObjectVar.newArray()</code> or <code>IntVar.newArray()</code> in the <code>ResourcesUtilizer.reserve()</code> method - a common pattern would be</p><div class="td-card card border me-4"><div class="card-header code"><strong>Java</strong></div><div class="card-body code p-0 m-0"><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>reserve</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Session</span> <span style=color:#000>session</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(!</span><span style=color:#000>var</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>isSet</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>session</span><span style=color:#ce5c00;font-weight:700>))</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>var</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>setObject</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>session</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>ObjectVar</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>newArray</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>session</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>concurrency</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div></div></div><p>The array is often created in a non-conurrent sequence that starts several concurrent instances of another sequence - the <code>var</code> would be used with the simple access (without the <code>[.]</code> suffix) in the original sequence, and with <code>[.]</code> in the concurrent sequences. Each of the concurrent sequences would get a different <code>SequenceInstance.index()</code> and with sequence-scoped access these would work on the variable on this position in the array. The step does not need to be tailored specifically to work on sequence-scoped variables; when creating the <code>Access</code> instance using <code>SessionFactory.objectAccess()</code> the presence of the suffix is automatically checked and the returned <code>Access</code> will relay the operations to the slot in the array.</p><h2 id=session-resources>Session resources<a class=td-heading-self-link href=#session-resources aria-label="Heading self-link"></a></h2><p>If a step (or a set of cooperating steps) needs to keep some internal state that is not available to users through arbitrary identifiers as session variables these can use concept called <em>session resources</em>. It is again an immutable map of objects in the session (while the map itself is immutable the values are meant to be mutated).</p><p>To make the code type-safe you start with the <code>Resource</code> implementation and matching <code>ResourceKey</code>:</p><div class="td-card card border me-4"><div class="card-header code"><strong>Java</strong></div><div class="card-body code p-0 m-0"><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>FooResource</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>Session</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>Resource</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>/* ... */</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>FooResourceKey</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>Session</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ResourceKey</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>FooResource</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#ce5c00;font-weight:700>{}</span>
</span></span></code></pre></div></div></div><p>The resource key does not need any methods - it is just an unique marker object that will serve as the key in a map. If the resource will be used exclusively in this very step (action, processor&mldr;) you can implement the <code>ResourceKey</code> in there and use <code>this</code> when calling <code>session.getResource()</code>:</p><div class="td-card card border me-4"><div class="card-header code"><strong>Java</strong></div><div class="card-body code p-0 m-0"><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>FooStep</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>Step</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>ResourceUtilizer</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#000>SessionResourceKey</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>FooStep</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>FooResource</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic>/* ... */</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div></div></div><p>Both session variables and session resources are declared in the <code>reserve()</code> method and retrieved (and mutated) in the business method (<code>invoke()</code> in the case of a step):</p><div class="td-card card border me-4"><div class="card-header code"><strong>Java</strong></div><div class="card-body code p-0 m-0"><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>FooStep</span> <span style=color:#204a87;font-weight:700>implements</span> <span style=color:#000>Step</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>ResourceUtilizer</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>private</span> <span style=color:#204a87;font-weight:700>final</span> <span style=color:#000>FooResourceKey</span> <span style=color:#000>resourceKey</span><span style=color:#ce5c00;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// set in constructor
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>reserve</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Session</span> <span style=color:#000>session</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// we are using supplier rather than creating instance directly because
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#8f5902;font-style:italic>// if this sequence is concurrent we will create N resources, the state
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#8f5902;font-style:italic>// of concurrent sequences will be isolated by default.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#000>session</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>declareResource</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>resourceKey</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>FooResource</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#204a87;font-weight:700>new</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#5c35cc;font-weight:700>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>invoke</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Session</span> <span style=color:#000>session</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#000>FooResource</span> <span style=color:#000>resource</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>session</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getResource</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>resourceKey</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>/* work on the resource */</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div></div></div><h2 id=component-adapters>Component adapters<a class=td-heading-self-link href=#component-adapters aria-label="Heading self-link"></a></h2><p>There are several types of extension components: steps, actions and processors get extra attention but it is possible to use other interfaces as well. Actions are the simplest of these: these do not require any input (but the session) and do always execute without blocking. Therefore it is possible to use an action on any place where a step or processor would fit. When loading the component by name Hyperfoil automatically wraps the action into an adapter to the target component type.</p><h2 id=thread-local-agent-local-and-global-data>Thread-local, agent-local and global data<a class=td-heading-self-link href=#thread-local-agent-local-and-global-data aria-label="Heading self-link"></a></h2><p>Besides session variables Hyperfoil offers 3 more levels of memory. Neither of those is limited to the currently executing phase: this data is not reset until the run completes.</p><p>First level is the thread-local memory: since each session runs using single executor it is possible to share some data between sessions using the same executor without any need for synchronization. Currently this model supports shared counters (see <a href=/docs/reference/steps/step_addToSharedCounter>addToSharedCounter</a> and <a href=docs/steps/step_getSharedCounter>getSharedCounter</a>) and shared map-like objects (see <a href=/docs/reference/steps/step_pushSharedMap>pushSharedMap</a> and <a href=/docs/reference/steps/step_pushSharedMap>pullSharedMap</a>). The latter keeps a pool of maps for each executor; when the map is pulled to a session it is removed from the pool, and it&rsquo;s up to the user to return it back. This is useful e.g. for simulating stateful virtual users when we don&rsquo;t want to modify one user concurrently in multiple sessions.</p><p>Second level is the agent-local memory. This is intended for caching data that needs to be initialized once and then used throughout the test; the initializing phase should invoke <a href=/docs/reference/steps/step_publishAgentData>publishAgentData</a>. It&rsquo;s up to you to make sure that when this is read using <a href=/docs/reference/steps/step_readAgentData>readAgentData</a> the data is already available - usually the reading phase should be ordered after the publishing phase using <a href=/userguide/benchmark/phases.html>startAfterStrict</a> property. Agent data are identified using keys (names); the data for each key can be published only once and cannot be updated afterwards. This limitation is imposed to minimize synchronization of executors.</p><p>Third level is the global mem ory. Again this could be used for distributing initialization data but also for gathering data from other agents and threads. The idea is that each thread or agent produces a reduce-able object; Hyperfoil then combines these objects on the agent level (in arbitrary order), sends it to the controller where data from all agents are combined again and the result is distributed back to all agents. As with the agent data you should strictly order the producing and consuming phases, otherwise the data might not be available yet and the run would fail.
Currently Hyperfoil does not provide any general-use steps/actions to work with global data; you should implement <a href=https://github.com/Hyperfoil/Hyperfoil/blob/master/api/src/main/java/io/hyperfoil/api/session/GlobalData.java#L29-L36>GlobalData.Element</a> in an extension and provide steps to create & publish instances of these.</p><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes">Glad to hear it! Please <a href=https://github.com/Hyperfoil/Hyperfoil/issues/new>tell us how we can improve</a>.</p><p class="feedback--response feedback--response-no">Sorry to hear that. Please <a href=https://github.com/Hyperfoil/Hyperfoil/issues/new>tell us how we can improve</a>.</p></div><script>const yesButton=document.querySelector(".feedback--answer-yes"),noButton=document.querySelector(".feedback--answer-no"),yesResponse=document.querySelector(".feedback--response-yes"),noResponse=document.querySelector(".feedback--response-no"),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=e=>{if(typeof gtag!="function")return;gtag("event","page_helpful",{event_category:"Helpful",event_label:window.location.pathname,value:e})};yesButton.addEventListener("click",()=>{yesResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(100)}),noButton.addEventListener("click",()=>{noResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(0)})</script><br><div class=td-page-meta__lastmod>Last modified July 1, 2024: <a href=https://github.com/Hyperfoil/Hyperfoil/commit/c052fbd7faeefad052c773e76e5ebb34edcad691>Update npm packages and ignored files (c052fbd)</a></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="GitHub Discussions" aria-label="GitHub Discussions"><a target=_blank rel=noopener href=https://github.com/Hyperfoil/Hyperofil/discussions aria-label="GitHub Discussions"><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://x.com/Hyperfoil aria-label=Twitter><i class="fab fa-twitter"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/Hyperfoil/Hyperofil aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Zulip aria-label=Zulip><a target=_blank rel=noopener href=https://hyperfoil.zulipchat.com/ aria-label=Zulip><i class="fab fa-z"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="GitHub Issues" aria-label="GitHub Issues"><a target=_blank rel=noopener href=https://github.com/Hyperfoil/Hyperofil/issues aria-label="GitHub Issues"><i class="fab fa-github"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2017&ndash;2024
<span class=td-footer__authors>Hyperfoil | <a href=https://www.apache.org/licenses/LICENSE-2.0>Apache License 2.0</a> |</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span><span class=ms-2><a href=https://policies.google.com/privacy target=_blank rel=noopener>Privacy Policy</a></span></div></div></div></footer></div><script src=/hyperfoil-website-demo/js/main.min.53f3e04e8d693751b0d08317a1dfec9508d2a99f2a3d232d929e075cd6f20865.js integrity="sha256-U/PgTo1pN1Gw0IMXod/slQjSqZ8qPSMtkp4HXNbyCGU=" crossorigin=anonymous></script>
<script defer src=/hyperfoil-website-demo/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script>
<script src=/hyperfoil-website-demo/js/tabpane-persist.js></script></body></html>