<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/hyperfoil-website-demo/favicons/favicon.ico><link rel=apple-touch-icon href=/hyperfoil-website-demo/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/hyperfoil-website-demo/favicons/android-192x192.png sizes=192x192><title>Compensation for coordinated omission | Hyperfoil</title><meta name=description content="Measure true performance with Hyperfoil: compare actual and compensated latencies in closed-model benchmarks
"><meta property="og:title" content="Compensation for coordinated omission"><meta property="og:description" content="Measure true performance with Hyperfoil: compare actual and compensated latencies in closed-model benchmarks
"><meta property="og:type" content="article"><meta property="og:url" content="https://lampajr.github.io/hyperfoil-website-demo/blog/news/2020-12-9-compensation/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2020-12-09T00:00:00+00:00"><meta property="article:modified_time" content="2024-07-02T19:28:48+02:00"><meta itemprop=name content="Compensation for coordinated omission"><meta itemprop=description content="Measure true performance with Hyperfoil: compare actual and compensated latencies in closed-model benchmarks
"><meta itemprop=datePublished content="2020-12-09T00:00:00+00:00"><meta itemprop=dateModified content="2024-07-02T19:28:48+02:00"><meta itemprop=wordCount content="534"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Compensation for coordinated omission"><meta name=twitter:description content="Measure true performance with Hyperfoil: compare actual and compensated latencies in closed-model benchmarks
"><link rel=preload href=/hyperfoil-website-demo/scss/main.min.d0336840d8c0ef45658fa040135fe63f4426d79b707feb7cf795756dd7001fc7.css as=style><link href=/hyperfoil-website-demo/scss/main.min.d0336840d8c0ef45658fa040135fe63f4426d79b707feb7cf795756dd7001fc7.css rel=stylesheet><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script>
<script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script></head><body class="td-page td-blog"><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/hyperfoil-website-demo/><span class="navbar-brand__logo navbar-logo"><svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="200pt" height="200pt" viewBox="0 0 200 200"><g transform="translate(0.000000,200.000000) scale(0.100000,-0.100000)" fill="#000" stroke="none"><path d="M692 1873c-28-5-45-42-109-231-82-246-95-317-1e2-572-4-171-1-254 11-345 25-186 20-177 107-198 103-26 359-28 480-4 167 33 349 105 349 138 0 63-115 359-332 854-80 182-148 338-151 348-6 15-20 17-119 16-62-1-123-4-136-6zm228-1e2c0-106 20-593 26-640 5-43 6-43 46-43h40l-6 48c-8 69-29 512-24 517 4 4 289-634 338-760 33-83 80-222 80-235 0-19-298-120-354-120-13 0-16 13-16 68 0 37-3 97-7 135l-6 67h-38c-26 0-37-4-34-12 2-7 6-70 10-140l6-127-47-7c-49-7-250 10-320 27l-41 11-12 68c-38 230-38 515-1 705 21 107 97 352 138 447 23 52 27 53 155 56l67 2v-67z"/><path d="M1460 580c-31-4-103-24-160-44-219-78-416-102-609-72-57 9-106 14-108 13-10-11 294-67 363-67 31 0 32-1 38-57 4-32 10-66 12-76 5-14-17-28-113-74l-118-57 48-15 49-15 196 99c169 84 193 99 172 106-40 12-79 10-108-5-15-7-37-17-50-21-22-6-23-5-20 52l3 58 120 2c66 2 147 5 181 8l61 6 52 81c28 44 51 81 49 82s-28-1-58-4z"/></g></svg></span><span class=navbar-brand__name>Hyperfoil</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/hyperfoil-website-demo/docs/><span>Docs</span></a></li><li class=nav-item><a class="nav-link active" href=/hyperfoil-website-demo/blog/><span>Blog</span></a></li><li class=nav-item><a class=nav-link href=/hyperfoil-website-demo/download/><span>Download</span></a></li><li class=nav-item><a class=nav-link href=/hyperfoil-website-demo/community/><span>Community</span></a></li></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/hyperfoil-website-demo/offline-search-index.0e38b7480d78b6a828ea18716ca2fc5f.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/hyperfoil-website-demo/offline-search-index.0e38b7480d78b6a828ea18716ca2fc5f.json data-offline-search-base-href=/ data-offline-search-max-results=10></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-hyperfoil-website-demoblog-li><a href=/hyperfoil-website-demo/blog/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-hyperfoil-website-demoblog><span>Blog</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-hyperfoil-website-demoblognews-li><a href=/hyperfoil-website-demo/blog/news/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-hyperfoil-website-demoblognews><span>News</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-hyperfoil-website-demoblognews2021-01-25-hf-beginner-guide-1-li><a href=/hyperfoil-website-demo/blog/news/2021-01-25-hf-beginner-guide-1/ title="Beginner's Guide to Hyperfoil: part 1" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demoblognews2021-01-25-hf-beginner-guide-1><span>Beginner's Guide 1</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-hyperfoil-website-demoblognews2021-02-09-hf-beginner-guide-2-li><a href=/hyperfoil-website-demo/blog/news/2021-02-09-hf-beginner-guide-2/ title="Beginner's Guide to Hyperfoil: part 2" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demoblognews2021-02-09-hf-beginner-guide-2><span>Beginner's Guide 2</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-hyperfoil-website-demoblognews2021-02-16-hf-beginner-guide-3-li><a href=/hyperfoil-website-demo/blog/news/2021-02-16-hf-beginner-guide-3/ title="Beginner's Guide to Hyperfoil: part 3" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demoblognews2021-02-16-hf-beginner-guide-3><span>Beginner's Guide 3</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-hyperfoil-website-demoblognews2020-12-9-compensation-li><a href=/hyperfoil-website-demo/blog/news/2020-12-9-compensation/ title="Compensation for coordinated omission" class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demoblognews2020-12-9-compensation><span class=td-sidebar-nav-active-item>Compensation</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-hyperfoil-website-demoblognews2020-11-16-fetch-embedded-li><a href=/hyperfoil-website-demo/blog/news/2020-11-16-fetch-embedded/ title="Fetch embedded resources" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demoblognews2020-11-16-fetch-embedded><span>Fetch embedded</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-hyperfoil-website-demoblognews2020-11-16-follow-redirect-li><a href=/hyperfoil-website-demo/blog/news/2020-11-16-follow-redirect/ title="Automatic follow of redirects" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demoblognews2020-11-16-follow-redirect><span>Follow redirects</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-hyperfoil-website-demoblogreleases-li><a href=/hyperfoil-website-demo/blog/releases/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-hyperfoil-website-demoblogreleases><span>Releases</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-hyperfoil-website-demoblogreleasesrelease_notes-li><a href=/hyperfoil-website-demo/blog/releases/release_notes/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-hyperfoil-website-demoblogreleasesrelease_notes><span>Release Notes</span></a></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://github.com/Hyperfoil/Hyperfoil/tree/0.26.x/docs/site/content/en/blog/news/2020-12-9-compensation.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
<a href=https://github.com/Hyperfoil/Hyperfoil/edit/0.26.x/docs/site/content/en/blog/news/2020-12-9-compensation.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
<a href="https://github.com/Hyperfoil/Hyperfoil/new/0.26.x/docs/site/content/en/blog/news?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
<a href="https://github.com/Hyperfoil/Hyperfoil/issues/new?title=Compensation%20for%20coordinated%20omission" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/Hyperfoil/Hyperfoil/issues/new class="td-page-meta--project td-page-meta__project-issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create project issue</a>
<a id=print href=/hyperfoil-website-demo/blog/news/_print/><i class="fa-solid fa-print fa-fw"></i> Print entire section</a></div><div class="taxonomy taxonomy-terms-cloud taxo-tags"><h5 class=taxonomy-title>Tags</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/actions/ data-taxonomy-term=actions><span class=taxonomy-label>actions</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/agents/ data-taxonomy-term=agents><span class=taxonomy-label>agents</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/ansible/ data-taxonomy-term=ansible><span class=taxonomy-label>ansible</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/benchmark/ data-taxonomy-term=benchmark><span class=taxonomy-label>benchmark</span><span class=taxonomy-count>10</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/clustered/ data-taxonomy-term=clustered><span class=taxonomy-label>clustered</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/concepts/ data-taxonomy-term=concepts><span class=taxonomy-label>concepts</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/credentials/ data-taxonomy-term=credentials><span class=taxonomy-label>credentials</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/custom/ data-taxonomy-term=custom><span class=taxonomy-label>custom</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/editor/ data-taxonomy-term=editor><span class=taxonomy-label>editor</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/ergonomics/ data-taxonomy-term=ergonomics><span class=taxonomy-label>ergonomics</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/examples/ data-taxonomy-term=examples><span class=taxonomy-label>examples</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/faq/ data-taxonomy-term=faq><span class=taxonomy-label>faq</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/guides/ data-taxonomy-term=guides><span class=taxonomy-label>guides</span><span class=taxonomy-count>20</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/handlers/ data-taxonomy-term=handlers><span class=taxonomy-label>handlers</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/hooks/ data-taxonomy-term=hooks><span class=taxonomy-label>hooks</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/how-to/ data-taxonomy-term=how-to><span class=taxonomy-label>how-to</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/http/ data-taxonomy-term=http><span class=taxonomy-label>http</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/installation/ data-taxonomy-term=installation><span class=taxonomy-label>installation</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/json-schema/ data-taxonomy-term=json-schema><span class=taxonomy-label>json-schema</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/kubernetes/ data-taxonomy-term=kubernetes><span class=taxonomy-label>kubernetes</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/link/ data-taxonomy-term=link><span class=taxonomy-label>link</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/manual/ data-taxonomy-term=manual><span class=taxonomy-label>manual</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/migration/ data-taxonomy-term=migration><span class=taxonomy-label>migration</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/openshift/ data-taxonomy-term=openshift><span class=taxonomy-label>openshift</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/overview/ data-taxonomy-term=overview><span class=taxonomy-label>overview</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/phases/ data-taxonomy-term=phases><span class=taxonomy-label>phases</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/processors/ data-taxonomy-term=processors><span class=taxonomy-label>processors</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/quickstart/ data-taxonomy-term=quickstart><span class=taxonomy-label>quickstart</span><span class=taxonomy-count>9</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/reference/ data-taxonomy-term=reference><span class=taxonomy-label>reference</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/scenario/ data-taxonomy-term=scenario><span class=taxonomy-label>scenario</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/server/ data-taxonomy-term=server><span class=taxonomy-label>server</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/standalone/ data-taxonomy-term=standalone><span class=taxonomy-label>standalone</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/statistics/ data-taxonomy-term=statistics><span class=taxonomy-label>statistics</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/steps/ data-taxonomy-term=steps><span class=taxonomy-label>steps</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/templates/ data-taxonomy-term=templates><span class=taxonomy-label>templates</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/troubleshooting/ data-taxonomy-term=troubleshooting><span class=taxonomy-label>troubleshooting</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/variables/ data-taxonomy-term=variables><span class=taxonomy-label>variables</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/wrk/ data-taxonomy-term=wrk><span class=taxonomy-label>wrk</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/tags/wrk2/ data-taxonomy-term=wrk2><span class=taxonomy-label>wrk2</span><span class=taxonomy-count>1</span></a></li></ul></div><div class="taxonomy taxonomy-terms-cloud taxo-categories"><h5 class=taxonomy-title>Categories</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/actions/ data-taxonomy-term=actions><span class=taxonomy-label>Actions</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/benchmark/ data-taxonomy-term=benchmark><span class=taxonomy-label>Benchmark</span><span class=taxonomy-count>9</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/concepts/ data-taxonomy-term=concepts><span class=taxonomy-label>Concepts</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/examples/ data-taxonomy-term=examples><span class=taxonomy-label>Examples</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/faq/ data-taxonomy-term=faq><span class=taxonomy-label>FAQ</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/getstarted/ data-taxonomy-term=getstarted><span class=taxonomy-label>GetStarted</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/guide/ data-taxonomy-term=guide><span class=taxonomy-label>Guide</span><span class=taxonomy-count>17</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/howto/ data-taxonomy-term=howto><span class=taxonomy-label>HowTo</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/installation/ data-taxonomy-term=installation><span class=taxonomy-label>Installation</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/migration/ data-taxonomy-term=migration><span class=taxonomy-label>Migration</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/overview/ data-taxonomy-term=overview><span class=taxonomy-label>Overview</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/processors/ data-taxonomy-term=processors><span class=taxonomy-label>Processors</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/quickstart/ data-taxonomy-term=quickstart><span class=taxonomy-label>Quickstart</span><span class=taxonomy-count>9</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/reference/ data-taxonomy-term=reference><span class=taxonomy-label>Reference</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/steps/ data-taxonomy-term=steps><span class=taxonomy-label>Steps</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://lampajr.github.io/hyperfoil-website-demo/categories/troubleshooting/ data-taxonomy-term=troubleshooting><span class=taxonomy-label>Troubleshooting</span><span class=taxonomy-count>1</span></a></li></ul></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5 pe-md-4" role=main><a class=td-rss-button title=RSS href=/hyperfoil-website-demo/blog/news/index.xml target=_blank rel=noopener><i class="fa-solid fa-rss" aria-hidden=true></i></a><div class=td-content><h1>Compensation for coordinated omission</h1><div class=lead>Measure true performance with Hyperfoil: compare actual and compensated latencies in closed-model benchmarks</div><div class="td-byline mb-4"><time datetime=2020-12-09 class=text-body-secondary>Wednesday, December 09, 2020</time></div><header class=article-meta></header><p>Results for <a href=/docs/user-guide/benchmark/phases/>closed-model</a> tests show maximum throughput your SUT can achieve; the response times are skewed though due to the coordinated omission. There are still cases where you&rsquo;d like to run in this mode and check the size of the error you&rsquo;re accumulating.</p><p>Many benchmarks use closed-model with fixed concurrency and cycle-time, expecting the request to be fired every X milliseconds. When the requests fall behind in schedule due to some requests taking more than this period (cycle-time) the subsequent requests are fired as quickly as possible to catch up. The &lsquo;compensated&rsquo; results estimate what would the latency be if you fired the requests on time. With open model the actual latencies could be the same (assuming that the previous request was delayed due waiting in a queue on server), better (the response was incidentally delayed on the network) or worse (the server queue would perform worse if hosting more requests).</p><p>Hyperfoil will tell you both values - the actually observed latencies AND the compensated estimate of latencies. You can use this mode only in <code>always</code> phases where you fix the cycle-time by providing a target rate of starting user sessions (contrary to the regular <code>always</code> behaviour starting user sessions as soon as possible). Note that the compensated time will be correct only if you don&rsquo;t execute any blocking steps before firing the request(s).</p><p>Example:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>test</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>http</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span>- <span style=color:#204a87;font-weight:700>host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>http://example.com</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>sharedConnections</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>phases</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span>- <span style=color:#204a87;font-weight:700>test</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>always</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>users</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>duration</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>20s</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>scenario</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>test</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#204a87;font-weight:700>httpRequest</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>GET</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>compensation</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>targetRate</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>The test above uses 10 concurrent users and tries to run at 10 requests/s. Below you can see CLI listing from the <code>stats</code> command, showing mean response time of 113 ms (real) vs. 172 ms (compensated). In this case the difference is not caused by a responses taking more than 1 second (the cycle-time for each user) but because sending the request is blocked by lack of available connections (we are using only 2): see that the <code>BLOCKED</code> column says that requests have been blocked for more than 6 seconds waiting for a free connection.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>hyperfoil@in-vm<span style=color:#ce5c00;font-weight:700>]</span>$ stats
</span></span><span style=display:flex><span>Total stats from run <span style=color:#0000cf;font-weight:700>0025</span>
</span></span><span style=display:flex><span>PHASE  METRIC            THROUGHPUT  REQUESTS  MEAN       p50        p90        p99        p99.9      p99.99     2xx  3xx  4xx  5xx  CACHE  TIMEOUTS  ERRORS  BLOCKED
</span></span><span style=display:flex><span><span style=color:#204a87>test</span>   compensated-test  9.97 req/s       <span style=color:#0000cf;font-weight:700>208</span>  171.78 ms  148.90 ms  216.01 ms  641.73 ms  968.88 ms  968.88 ms    <span style=color:#0000cf;font-weight:700>0</span>    <span style=color:#0000cf;font-weight:700>0</span>    <span style=color:#0000cf;font-weight:700>0</span>    <span style=color:#0000cf;font-weight:700>0</span>      <span style=color:#0000cf;font-weight:700>0</span>         <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>     <span style=color:#0000cf;font-weight:700>0</span> ns
</span></span><span style=display:flex><span><span style=color:#204a87>test</span>   <span style=color:#204a87>test</span>              9.97 req/s       <span style=color:#0000cf;font-weight:700>208</span>  113.42 ms  103.28 ms  149.95 ms  312.48 ms  392.17 ms  392.17 ms  <span style=color:#0000cf;font-weight:700>208</span>    <span style=color:#0000cf;font-weight:700>0</span>    <span style=color:#0000cf;font-weight:700>0</span>    <span style=color:#0000cf;font-weight:700>0</span>      <span style=color:#0000cf;font-weight:700>0</span>         <span style=color:#0000cf;font-weight:700>0</span>       <span style=color:#0000cf;font-weight:700>0</span>  6.23 s
</span></span></code></pre></div><p>What happens underhood? You can see that using the <code>inspect</code> command in the CLI (some parts removed for brevity):</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>scenario</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>initialSequences</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>__delay-session-start</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#204a87;font-weight:700>delaySessionStart</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>randomize</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>sequences</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#000>test</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>targetRate</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>10.0</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>targetRateIncrement</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>0.0</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>sequences</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>test</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#204a87;font-weight:700>beforeSyncRequest</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span>{}<span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#204a87;font-weight:700>httpRequest</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>handler</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>completionHandlers</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#204a87;font-weight:700>releaseSync</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span>{}<span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#204a87;font-weight:700>compensatedResponseRecorder</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>metricSelector</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>prefixMetricSelector</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>delegate</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                </span><span style=color:#204a87;font-weight:700>providedMetricSelector</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                  </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>test</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>prefix</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>compensated-</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>stepId</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>21</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000>...</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>The sequence <code>test</code> is removed from the <code>initialSequences</code> set and sequence <code>__delay-session-start</code> takes place instead. This contains single step <code>delaySessionStart</code> that waits until its due and then schedules the sequence <code>test</code>. The compensated time is recorded by another handler that reuses the metric selector from the request but adds <code>compensated-</code> prefix.</p><ul class="list-unstyled d-flex justify-content-between align-items-center mb-0 pt-5"><li><a href=/hyperfoil-website-demo/blog/news/2020-11-16-fetch-embedded/ aria-label="Previous - Fetch embedded resources" class="btn btn-primary"><span class=me-1>←</span>Previous</a></li><li><a href=/hyperfoil-website-demo/blog/news/2021-02-16-hf-beginner-guide-3/ aria-label="Next - Beginner's Guide to Hyperfoil: part 3" class="btn btn-primary">Next<span class=ms-1>→</span></a></li></ul><div class=td-page-meta__lastmod>Last modified July 2, 2024: <a href=https://github.com/Hyperfoil/Hyperfoil/commit/35617b7bce0c3e81efd3ba3d6a8dff616ad7560c>Fixed javadoc generation for steps, processors and actions (35617b7)</a></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="GitHub Discussions" aria-label="GitHub Discussions"><a target=_blank rel=noopener href=https://github.com/Hyperfoil/Hyperofil/discussions aria-label="GitHub Discussions"><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://x.com/Hyperfoil aria-label=Twitter><i class="fab fa-twitter"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/Hyperfoil/Hyperofil aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Zulip aria-label=Zulip><a target=_blank rel=noopener href=https://hyperfoil.zulipchat.com/ aria-label=Zulip><i class="fab fa-z"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="GitHub Issues" aria-label="GitHub Issues"><a target=_blank rel=noopener href=https://github.com/Hyperfoil/Hyperofil/issues aria-label="GitHub Issues"><i class="fab fa-github"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2017&ndash;2024
<span class=td-footer__authors>Hyperfoil | <a href=https://www.apache.org/licenses/LICENSE-2.0>Apache License 2.0</a> |</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span><span class=ms-2><a href=https://policies.google.com/privacy target=_blank rel=noopener>Privacy Policy</a></span></div></div></div></footer></div><script src=/hyperfoil-website-demo/js/main.min.53f3e04e8d693751b0d08317a1dfec9508d2a99f2a3d232d929e075cd6f20865.js integrity="sha256-U/PgTo1pN1Gw0IMXod/slQjSqZ8qPSMtkp4HXNbyCGU=" crossorigin=anonymous></script>
<script defer src=/hyperfoil-website-demo/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script>
<script src=/hyperfoil-website-demo/js/tabpane-persist.js></script></body></html>